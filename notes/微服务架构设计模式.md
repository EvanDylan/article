# 《微服务架构设计模式》

## 微服务架构

1. 带来哪些好处？
   - 通过服务拆分使得大型复杂应用程序可以持续交付和持续部署。
   - 每个服务都相对较小并容易维护。
   - 服务可以独立的部署、扩展、拥有更好的容错性。
   - 更容易实验和采纳新的技术。
   - 微服务架构可以实现团队的自治。

2. 带来哪些弊端和问题？

   - 服务的拆分和定义是一项挑战。
   - 分布式系统带来的各种复杂性，使开发、测试和部署变得更困难。
   - 当部署跨越多个服务的功能时需要谨慎地协调更多开发团队。
   - 开发者需要思考到底应该在应用的什么阶段使用微服务架构。

3. 为什么要使用微服务架构的模式语言？

   - 每项技术都有它的弊端和限制，这些总是被它们的鼓吹者所忽视。
   - 人们往往被情绪因素所驱动，这事也为什么会有这么多关于技术的两极分化和过度粉饰的争论。
   - 技术没有银弹，架构是否适用于你的应用程序取决于很多因素。我们需要先“研究研究”，然后才能得出结论。
   - 作为软件社区的开发人员，需要克服我们情绪化的本能，找到一种讨论和应用技术更好的方法，这个方法便是采用模式。

4. 什么是模式和模式语言？

   模式是针对特定上下文中发生的问题的可重用解决方案。这个想法起源于现实世界中的建筑架构设计，并且已被证明针对软件架构设计同样行之有效。模式的概念是由Christopher Alexander创造的，他是一位现实世界中的建筑架构师。他创造了模式语言的概念：解决特定领域内问题的相关模式的集合。

   模式有价值的一个原因是模式必须描述它所适用的上下文场景。一个解决方案可能适用于一些场景，但不一定适用于另外的场景，这样的观点对于典型的技术讨论而言是更进一步了。

   常用的模式结构包括三个重要部分：

   - 需求
   - 结果上下文
   - 相关模式





## 进程间的通讯

### 客户端与服务端交互方式

可以分为两个维度。

- 第一个维度关注的是一对一和一对多。

- 第二个维度关注的是同步和异步。

  |          | 一对一                        | 一对多                           |
  | -------- | ----------------------------- | -------------------------------- |
  | 同步模式 | 请求 / 响应                   |                                  |
  | 异步模式 | 异步请求 / 响应<br />单向通知 | 发布 / 订阅<br />发布 / 异步响应 |

  同步请求/响应的交互方式并不会因为具体的进程间通信技术而发生改变。例如，一个服务使用请求 / 响应的方式与其他服务交互，底层的进程间通信技术可以是REST，也可以是消息机制。也就是说，即使两个服务通过（异步）消息代理通信，客户端仍旧可能等待响应。（一句话同步和异步要看代码怎么写，和具体的通信技术无关。）

### 通讯协议





